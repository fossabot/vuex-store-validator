import e from"ajv";var r=(r,t)=>{const o=new e({jsonPointers:!0,$data:!0}).compile(r);o(t);const{errors:n}=o;return!!n&&"ValidationError: "+(e=>e.map(e=>e.message).join(", "))(n)},t=(e,r)=>{const t=e||{validate:()=>({})},{error:o}=t.validate(r);return o||!1},o=Object.freeze({JOI:"joi",AJV:"ajv"});class n{constructor({engine:e=o.JOI,strict:n=!1,extend:i={}}={}){return Object.assign(this,{engine:e,strict:n,extend:i}),(({extend:e,strict:o,engine:n})=>i=>{const{_modules:s,_modulesNamespaceMap:a}=i;i.subscribe(({type:i,payload:c})=>{const d=((e,o)=>{const n={ajv:r,joi:t,...o};if(Object.keys(n).includes(e))return n[e];throw new Error(`Validation Engine for "${e}" not found.`)})(n,e)((e=>{const r=e.split("/"),t=r.pop(),n=(e=>{let r=e;return r&&"/"!==e.charAt(e.length-1)&&(r+="/"),a[r]})(r.join("/")),{rules:i={}}=(n||s.root)._rawModule;if(o&&!i[t])throw new Error("[Strict Mode] Rules are not defined for: "+e);return i[t]})(i),c);if(d)throw new Error(`${d} for mutation: ${i}`)})})(this)}}window.Vue&&(window.VuexStoreValidator=n);const i=o;export default n;export{i as ENGINE};
//# sourceMappingURL=index.module.js.map
